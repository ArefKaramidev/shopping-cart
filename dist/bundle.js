(()=>{"use strict";const[t,e,n,i,d,s,l,r,a,c,o,u,m]=[".dressDiv",".perfumeDiv",".message",".countp",".cart",".close","menu","#insidePr",".search","#textbox","main",".clothingtitle",".prfumetitle"].map((t=>document.querySelector(t)));function p(t){const e=document.querySelectorAll(".btn");e[t.id-1].disabled=!1,e[t.id-1].textContent="Add to cart"}function g(){const t=JSON.parse(localStorage.getItem("product"));""==i.textContent?i.textContent=0:i.textContent=t.length,null!==t&&(r.innerHTML="",t.forEach((t=>{r.innerHTML+=`\n          <div class="mt-5">\n             <div class="w-full p-4 h-16 flex">\n               <img\n                 src=${t.img}\n                 alt=""\n                 class="w-12 h-12 mr-10 rounded-sm"\n               />\n               <div class="flex-col w-full h-full">\n                 <div class="font-medium">${t.title}</div>\n                 <div class="font-medium" id='price'>${t.price}$</div>\n               </div>\n               <button class="fa-solid fa-x remove" id='${t.id}'></button>\n             </div>\n               <div class="w-full text-center py-2">\n            <button class="font-medium text-white text-lg" onclick="miness(${t.id},this)">< ${t.count}</button>\n            <button class="font-medium text-white text-lg "onclick="plus(${t.id},this)">></button>\n          </div>\n             <div class="w-full text-center">\n               <button class="bg-teal-700 p-2 rounded-md text-white">\n                 payment\n               </button>\n             </div>\n           </div>\n     `})),document.querySelectorAll(".remove").forEach((t=>{t.addEventListener("click",(t=>{const e=+t.target.id,n=JSON.parse(localStorage.getItem("product")),i=n.filter((t=>t.id!==e)),d=n.find((t=>t.id===e));v(i),""===r.innerHTML&&localStorage.clear(),p(d)}))})))}function v(t){localStorage.setItem("product",JSON.stringify(t)),g()}const f=[{img:"./img/dress1.jpg",title:"Dress1",price:12,id:1,count:1},{img:"./img/dress2.jpg",title:"Dress2",price:50,id:2,count:1},{img:"./img/dress3.jpg",title:"Dress3",price:62,id:3,count:1},{img:"./img/dress4.jpg",title:"Dress4",price:45,id:4,count:1},{img:"./img/p1.jpg",title:"Savag",price:120,id:5,count:1},{img:"./img/p2.jpg",title:"Silver secret",price:150,id:6,count:1},{img:"./img/p3.jpg",title:"Tomford",price:162,id:7,count:1},{img:"./img/p5.jpg",title:"Prada",price:255,id:8,count:1}];function b(){document.querySelectorAll(".btn").forEach((t=>{t.addEventListener("click",(e=>{n.style.top="7rem",setTimeout((()=>{n.style.top="-7rem"}),750),function(t){const e=f.find((e=>t==e.id));let n=JSON.parse(localStorage.getItem("product"))||[];n=[...n,e],v(n)}(t.id),e.target.attributes.id&&(t.disabled="disable",t.textContent="Added In Your Cart")}))}))}function x(t,e){const n=document.querySelectorAll("#price");"increase"===t?(totaly=e.price*e.count,n[e.id-1].textContent=`${totaly}$`):(e.price=totaly-e.price,n[e.id-1].textContent=`${e.price}$`)}function y(){f.forEach((n=>{n.id<=4?t.innerHTML+=` <div\n      class="w-64 h-[26rem ] bg-white rounded-md ml-4 duration-500 xl:hover:scale-95"\n    >\n    <img src=${n.img} alt="dress" />\n    <div class="flex justify-between py-2">\n    <span class="font-medium">${n.title}</span>\n    <span class="text-gray-900">${n.price}$</span>\n    </div>\n    <div>\n    <button\n    class="px-6 py-2 w-full font-medium bg-slate-500 rounded-br-md rounded-bl-md text-white duration-200 active:scale-95 active:bg-slate-700 btn"\n    id="${n.id}"\n    >\n    Add to cart\n    </button>\n    </div>\n    </div>`:e.innerHTML+=` <div\n    class="w-64 h-[26rem ] bg-white rounded-md ml-4 duration-500 xl:hover:scale-95"\n    >\n    <img src=${n.img} alt="dress" />\n    <div class="flex justify-between py-2">\n    <span class="font-medium">${n.title}</span>\n    <span class="text-gray-900">${n.price}$</span>\n    </div>\n    <div>\n    <button\n    class="px-6 py-2 w-full font-medium bg-slate-500 rounded-br-md rounded-bl-md text-white duration-200 active:scale-95 active:bg-slate-700 btn"\n    id="${n.id}"\n    >\n    Add to cart\n    </button>\n    </div>\n    </div>`}))}b(),y(),g(),b();let h,$=!0;a.addEventListener("click",(t=>{c.style.display="inline-block",d.style.display="none",$?$=!1:(c.style.display="none",d.style.display="inline-block",$=!0)})),c.addEventListener("input",(n=>{h=[...f],h=f.filter((t=>t.title.toLowerCase().includes(n.target.value))),""==!n.target.value?(t.innerHTML="",e.innerHTML="",m.textContent="",u.textContent="",h.forEach((e=>{t.innerHTML+=` <div\n        class="w-64 h-[26rem ] bg-white rounded-md ml-4 duration-500 hover:scale-95"\n      >\n      <img src=${e.img} alt="dress" />\n      <div class="flex justify-between py-2">\n      <span class="font-medium">${e.title}</span>\n      <span class="text-gray-900">${e.price}$</span>\n      </div>\n      <div>\n      <button\n      class="px-6 py-2 w-full font-medium bg-slate-500 rounded-br-md rounded-bl-md text-white duration-200 active:scale-95 active:bg-slate-700 btn"\n      id="${e.id}"\n      >\n      Add to cart\n      </button>\n      </div>\n      </div>`})),b()):(t.innerHTML="",y())})),d.addEventListener("click",(t=>{l.style.transform="translateX(0)"})),s.addEventListener("click",(t=>{l.style.transform="translateX(-100%)"})),addToLocalStorage(data),g(),attachRemoveListener(),p(index),function(t,e){const n=f.find((e=>e.id===t));e.previousElementSibling.innerHTML="<span>< </span>",n.count+=1,e.innerHTML=`<span>${n.count}</span><span> ></span>`,x("increase",n)}(idProduct,element),x(mode,product)})();